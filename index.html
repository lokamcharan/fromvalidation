<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      body {
        background-color: ;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS",
          sans-serif;
        margin: 0;
        height: 100vh;
      }
      button {
        background-color: lightskyblue;
        border-radius: 20px;
        cursor: pointer;
        width: 100px;
        height: 20px;
      }
      /* #loginform{
            text-align: center;
            width: 200px;
            height: 100px;
        
        }
        #registerform{
            text-align: center;
            width: 200px;
            
        } */
      #container {
        text-align: center;
      }
      input {
        width: 100%;
        padding: 8px;
        margin: 5px 0;
        box-sizing: border-box;
      }
      form {
        width: 350px;
      }
      fieldset {
        background-color: black;
      }
    </style>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <fieldset>
      <div>
        <h2>Login</h2>
        <form id="loginform">
          <input
            type="text"
            id="loginUsername"
            placeholder="Username"
            required
          />
          <input
            type="password"
            id="loginPassword"
            placeholder="Password"
            required
          />
          <button type="button" onclick="login()">Login</button>
        </form>
        <h2>Register</h2>
        <form id="registerform">
          <input
            type="text"
            id="registerUsername"
            placeholder="Username"
            required
          />
          <input
            type="password"
            id="registerPassword"
            placeholder="Password"
            required
          />
          <!-- <input type="password"  placeholder="Re-enter password" required> -->
          <input
            type="password"
            id="confirmPassword"
            placeholder="confirmpassword"
            required
          />
          <input type="email" id="registeremail" placeholder="email" required />
          <button type="button" onclick="register()">Register</button>
        </form>
      </div>
    </fieldset>
    <script>
      //  let f1=document.forms
      //  console.log(f1[0]);
      //  var arr=[];
      //  f1[0].addEventListener("submit",(event)=>{
      //     event.preventDefault();

      //     console.log(event.target[0].value);
      //     console.log(event.target[1].value);

      //     var username=event.target[0].value
      //     var pass=event.target[1].value

      //     var obj={
      //         user:event.target[0].value,
      //         pass:event.target[1].value

      //     }
      //     arr.push(obj)
      //     console.log(arr);
      //  })
      // let users=[
      //     {username:"user1",password:"password1"},
      //     {username:"user2",password:"password2"}
      // ];

      // function login(){
      //     var username=document.getElementById("loginUsername").value;
      //     var password=document.getElementById("loginPassword").value;
      //     console.log(users);

      //     const user1=users.find(u => u.username===username && u.password===password);

      //     if(user1){
      //         alert("Login Successfully");
      //     }
      //     else{
      //         alert("Invalid username or password. you are not registered")
      //     }
      // }

      // function register(){
      //     var username=document.getElementById("registerUsername").value;
      //     var password=document.getElementById("registerPassword").value;
      //     users.push(
      //         {
      //             username,password
      //         }
      //     );
      //     alert("Registation successfully")
      // }
      
      let users = [
        { username: "user1", password: "password1", email: "emailid" },
        { username: "user2", password: "password2", email: "emailid" },
      ];

      function register() {
        var username = document.getElementById("registerUsername").value;
        var password = document.getElementById("registerPassword").value;
        var confirmPassword = document.getElementById("confirmPassword").value;
        var email = document.getElementById("registeremail").value;

        if (password !== confirmPassword) {
          alert("Passwords do not match");
          return false;
        }

        if (!email.includes("@") || !email.includes(".com")) {
          alert("Invalid email format");
          return false;
        }

        // Store the registration data in localStorage
        localStorage.setItem(
          "username",
          JSON.stringify(registerUsername.value)
        );
        localStorage.setItem(
          "password",
          JSON.stringify(registerPassword.value)
        );

        alert("Registration successful! Now go to the login page.");
        // Redirect to the login page
        // window.location.href = "login page.html";

        return true;
        users.push({
          username,
          password,
          email,
        });
        alert("Registation successfully");
      }


      function login() {
        var loginUsername = document.getElementById("loginUsername").value;
        var loginPassword = document.getElementById("loginPassword").value;

        // Retrieve the registration data from localStorage
        var regUsername = localStorage.getItem("username");
        let parsedval = JSON.parse(regUsername);
        var regPassword = localStorage.getItem("password");
        let parsedval1 = JSON.parse(regPassword);

        // Check if the entered credentials match the registration data
        if (loginUsername === parsedval && loginPassword === parsedval1) {
          alert("Login successful!");
          window.location.href = "main.html";
        } else {
          alert("Invalid username or password. Please try again.");
        }
      }
    </script>
  </body>
</html>
